/** * This code is part of the Bumpslide Library by David Knape * http://bumpslide.com/ *  * Copyright (c) 2006, 2007, 2008 by Bumpslide, Inc. *  * Released under the open-source MIT license. * http://www.opensource.org/licenses/mit-license.php * see LICENSE.txt for full license terms */ package com.bumpslide.util {        import flash.display.DisplayObject;   	import flash.geom.Rectangle;   	    /**	* Alignment utilities	* 	* When designing resizable apps, it is often the case that movie clips need 	* to be programmatically aligned and/or centered.  The static methods in this	* class take care of the math involved in many of these cases.  When used on their	* own, they are handy.  When used in conjunction with StageProxy, they are stellar.	* 	* StageProxy is a singleton that proxies Stage.onResize events and can be used to 	* maintain min and max stage dimensions.  By default, the stageProxy's height and 	* width properties are used as the default value for the containerSize in these 	* methods.	* 	* The AS3 version of these methods no longer assume a 0,0 registration point, as	* we are aligning based on the clip bounds (getRect).	* 	* 	* @author David Knape	*/		public class Align	{		static public function get stageProxy () : StageProxy {			if(StageProxy.isInitialized()) return StageProxy.getInstance();			return null;		}						/**		* Right-aligns a clip		* 		* Example Usage: 		*   Align.right( mymenu_mc );		* 		* @param	clip		* @param	containerSize		* @param	clipSize		*/		static public function right(clip:DisplayObject, containerSize:Number=Number.NaN, clipSize:Number=Number.NaN) : void 		{ 				if(isNaN(containerSize) && stageProxy!=null) containerSize = stageProxy.width;								var rect:Rectangle = clip.getRect(clip);					if(isNaN(clipSize)) clipSize = rect.width;				clip.x = Math.round( containerSize - clipSize - rect.x);				}					/**		* Centers a clip horizontally		* 		* Example Usage: 		*   Align.center( mymenu_mc );		* 		* @param	clip		* @param	containerSize		* @param	clipSize		*/		static public function center( clip:DisplayObject, containerSize:Number=Number.NaN, clipSize:Number=Number.NaN ) : void 		{				if(isNaN(containerSize) && stageProxy!=null) containerSize = stageProxy.width;			var rect:Rectangle = clip.getRect(clip);			if(isNaN(clipSize)) clipSize = rect.width;								clip.x = Math.round( (containerSize - clipSize - rect.x) / 2);		}						/**		* Centers a clip vertically 		* 		* Example Usage: 		*   Align.middle( mymenu_mc );		* 		* @param	clip		* @param	containerSize		* @param	clipSize		*/		static public function middle( clip:DisplayObject, containerSize:Number=Number.NaN, clipSize:Number=Number.NaN ) : void 		{				if(isNaN(containerSize) && stageProxy!=null) containerSize = stageProxy.height;			var rect:Rectangle = clip.getRect(clip);			if(isNaN(clipSize)) clipSize = rect.height;								clip.y = Math.round( (containerSize - clipSize - rect.y) / 2);		}				/**		* Aligns a clip with the bottom of a container		* 		* Example Usage: 		*   Align.bottom( mymenu_mc );		* 		* @param	clip		* @param	containerSize		* @param	clipSize		*/		static public function bottom( clip:DisplayObject, containerSize:Number=Number.NaN, clipSize:Number=Number.NaN ) : void 		{				if(isNaN(containerSize) && stageProxy!=null) containerSize = stageProxy.height;			var rect:Rectangle = clip.getRect(clip);			if(isNaN(clipSize)) clipSize = rect.height;								clip.y = Math.round( (containerSize - clipSize - rect.y) );		}			/**		* arranges movie clips in a column as if they are in a VBox 		*  		* @param	clips		* @param	padding		*/		static public function vbox( clips:Array, padding:Number=2 ) : void {			var count:int = clips.length;			if(count<2) return;					var yPos:Number = (clips[0] as DisplayObject).getBounds( clips[0].parent ).bottom + padding;				for(var n:uint=1; n<count; ++n) {				var mc:DisplayObject = clips[n] as DisplayObject;				if(mc.visible==false) continue;				mc.y = Math.round( yPos + mc.y - mc.getBounds( mc.parent ).top);						yPos = mc.getBounds( mc.parent ).bottom + padding;			}				}				/**		* arranges movie clips in a row as if they are in a HBox		* 		* @param	clips		* @param	padding		*/		static public function hbox( clips:Array, padding:Number=2 ) : void {			var count:int = clips.length;			if(count<2) return;					var xPos:Number = (clips[0] as DisplayObject).getBounds( clips[0].parent ).right + padding;				for(var n:uint=1; n<count; ++n) {				var mc:DisplayObject = clips[n] as DisplayObject;				if(mc.visible==false) continue;				mc.x = Math.round( xPos + mc.x - mc.getBounds( mc.parent ).left);						xPos = mc.getBounds( mc.parent ).right + padding;			}				}				}}